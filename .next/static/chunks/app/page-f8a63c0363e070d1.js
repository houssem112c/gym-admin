(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7908:function(e,t,o){Promise.resolve().then(o.bind(o,6774))},6774:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return c}});var a=o(7437),s=o(2265),n=o(6463),r=o(6264);function c(){let e=(0,n.useRouter)(),[t,o]=(0,s.useState)(""),[c,i]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[l,m]=(0,s.useState)(!1),h=async o=>{o.preventDefault(),u(""),m(!0);try{let o=await r.kv.login({email:t,password:c});if("ADMIN"!==o.user.role){u("Access denied. Admin privileges required.");return}(0,r.Fr)(o.access_token||o.accessToken);let a=o.access_token||o.accessToken;document.cookie="admin_token=".concat(a,"; path=/; max-age=").concat(604800),e.push("/dashboard")}catch(e){u(e.message||"Login failed")}finally{m(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800",children:(0,a.jsx)("div",{className:"max-w-md w-full mx-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Login"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Gym Management System"})]}),d&&(0,a.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsx)("p",{className:"text-red-600 text-sm",children:d})}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,a.jsx)("input",{id:"email",type:"email",required:!0,value:t,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"admin@gym.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,a.jsx)("input",{id:"password",type:"password",required:!0,value:c,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"••••••••"})]}),(0,a.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-primary text-white py-3 rounded-md font-semibold hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Signing in...":"Sign In"})]})]})})})}},6264:function(e,t,o){"use strict";o.d(t,{BQ:function(){return h},Fr:function(){return n},QZ:function(){return l},S:function(){return u},WK:function(){return m},gy:function(){return r},hG:function(){return d},hM:function(){return g},kv:function(){return i}});let a="https://gym-backend-r62h.onrender.com/api",s=()=>localStorage.getItem("token"),n=e=>{localStorage.setItem("token",e)},r=()=>{localStorage.removeItem("token")},c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=s(),n={"Content-Type":"application/json",...t.headers};o&&(n.Authorization="Bearer ".concat(o));let r=await fetch("".concat(a).concat(e),{...t,headers:n});if(!r.ok)throw Error((await r.json().catch(()=>({message:"Request failed"}))).message||"Request failed");return r.json()},i={login:e=>c("/auth/login",{method:"POST",body:JSON.stringify(e)}),register:e=>c("/auth/register",{method:"POST",body:JSON.stringify(e)})},d={getAll:()=>c("/courses"),getOne:e=>c("/courses/".concat(e)),create:e=>c("/courses",{method:"POST",body:JSON.stringify(e)}),createWithFiles:async e=>{let t=s(),o={};t&&(o.Authorization="Bearer ".concat(t));let n=await fetch("".concat(a,"/courses"),{method:"POST",headers:o,body:e});if(!n.ok)throw Error((await n.json().catch(()=>({message:"Request failed"}))).message||"Request failed");return n.json()},update:(e,t)=>c("/courses/".concat(e),{method:"PATCH",body:JSON.stringify(t)}),updateWithFiles:async(e,t)=>{let o=s(),n={};o&&(n.Authorization="Bearer ".concat(o));let r=await fetch("".concat(a,"/courses/").concat(e),{method:"PUT",headers:n,body:t});if(!r.ok)throw Error((await r.json().catch(()=>({message:"Request failed"}))).message||"Request failed");return r.json()},delete:e=>c("/courses/".concat(e),{method:"DELETE"}),getSchedules:e=>c("/courses/".concat(e,"/schedules")),createSchedule:(e,t)=>c("/courses/".concat(e,"/schedules"),{method:"POST",body:JSON.stringify(t)}),updateSchedule:(e,t,o)=>c("/courses/".concat(e,"/schedules/").concat(t),{method:"PATCH",body:JSON.stringify(o)}),deleteSchedule:(e,t)=>c("/courses/".concat(e,"/schedules/").concat(t),{method:"DELETE"})},u={getCategories:()=>c("/videos/categories"),getCategory:e=>c("/videos/categories/".concat(e)),createCategory:e=>c("/videos/categories",{method:"POST",body:JSON.stringify(e)}),updateCategory:(e,t)=>c("/videos/categories/".concat(e),{method:"PATCH",body:JSON.stringify(t)}),deleteCategory:e=>c("/videos/categories/".concat(e),{method:"DELETE"}),getAll:()=>c("/videos"),getOne:e=>c("/videos/".concat(e)),create:async e=>{let t=s(),o={};t&&(o.Authorization="Bearer ".concat(t));let n=await fetch("".concat(a,"/videos"),{method:"POST",headers:o,body:e});if(!n.ok)throw Error((await n.json().catch(()=>({message:"Request failed"}))).message||"Request failed");return n.json()},update:async(e,t)=>{let o=s(),n={};o&&(n.Authorization="Bearer ".concat(o));let r=await fetch("".concat(a,"/videos/").concat(e),{method:"PATCH",headers:n,body:t});if(!r.ok)throw Error((await r.json().catch(()=>({message:"Request failed"}))).message||"Request failed");return r.json()},delete:e=>c("/videos/".concat(e),{method:"DELETE"})},l={getAll:()=>c("/contacts"),getOne:e=>c("/contacts/".concat(e)),markAsRead:e=>c("/contacts/".concat(e),{method:"PATCH",body:JSON.stringify({isRead:!0})}),updateStatus:(e,t)=>c("/contacts/".concat(e),{method:"PATCH",body:JSON.stringify({status:t})}),respond:(e,t)=>c("/contacts/".concat(e,"/respond"),{method:"POST",body:JSON.stringify({adminResponse:t})}),delete:e=>c("/contacts/".concat(e),{method:"DELETE"})},m={getAll:()=>c("/locations"),getOne:e=>c("/locations/".concat(e)),create:e=>c("/locations",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>c("/locations/".concat(e),{method:"PATCH",body:JSON.stringify(t)}),delete:e=>c("/locations/".concat(e),{method:"DELETE"})},h={getAll:()=>c("/categories"),getOne:e=>c("/categories/".concat(e)),create:e=>c("/categories",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>c("/categories/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>c("/categories/".concat(e),{method:"DELETE"})},g={getAllRecords:()=>c("/admin/bmi"),getUserRecords:e=>c("/admin/bmi/user/".concat(e)),getStats:()=>c("/admin/bmi/stats"),deleteRecord:e=>c("/admin/bmi/".concat(e),{method:"DELETE"})}},6463:function(e,t,o){"use strict";var a=o(1169);o.o(a,"useParams")&&o.d(t,{useParams:function(){return a.useParams}}),o.o(a,"usePathname")&&o.d(t,{usePathname:function(){return a.usePathname}}),o.o(a,"useRouter")&&o.d(t,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=7908)}),_N_E=e.O()}]);